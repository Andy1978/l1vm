.data
Q, 1, zero
@, 0, 0
Q, 1, x
@, 8, 23
Q, 1, y
@, 16, 42
Q, 1, z
@, 24, 0
Q, 1, ret
@, 32, 0
.dend
.code
loada zero, 0, 0
:main
loada x, 0, 1
loada y, 0, 2
addi 1, 2, 3
muli 1, 2, 4
divi 1, 2, 5
subi 1, 2, 6
addi 3, 4, 7
muli 5, 6, 8
addi 7, 8, 9
load z, 0, 10
pullqw 9, 10, 0
intr0 4, 9, 0, 0
intr0 7, 0, 0, 0
loada ret, 0, 10
intr0 4, 10, 0, 0
intr0 7, 0, 0, 0
movi 1, 9
intr0 4, 9, 0, 0
intr0 7, 0, 0, 0
stpushi I0
stpushi I1
stpushi I2
stpushi I3
stpushi I4
stpushi I5
stpushi I6
stpushi I7
stpushi I8
stpushi I9
stpushi I10
jsr :test
stpopi 10
addi 10, 0, 11
load z, 0, 12
pullqw 11, 12, 0
stpopi I10
stpopi I9
stpopi I8
stpopi I7
stpopi I6
stpopi I5
stpopi I4
stpopi I3
stpopi I2
stpopi I1
stpopi I0
intr0 4, 11, 0, 0
intr0 7, 0, 0, 0
intr0 255, 0, 0, 0
rts
:test
loada x, 0, 0
loada y, 0, 1
muli 0, 1, 2
load z, 0, 3
pullqw 2, 3, 0
stpushi 2
rts
.cend
